(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),l=c(17),a=c.n(l),i=(c(23),c(3)),r=(c(24),c(2)),j=(c(31),c(32),c(0)),o=function(e){var t=e.pets;e.forceUpdate;return Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Pet"}),Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Actions"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.type}),Object(j.jsxs)("td",{children:[Object(j.jsx)("span",{className:"edit",children:Object(j.jsx)(r.a,{to:"/pet/".concat(e._id,"/"),children:"Details"})}),Object(j.jsx)("span",{className:"del",children:Object(j.jsx)(r.a,{to:"/pet/".concat(e._id,"/edit"),children:"Edit"})})]})]},t)}))})]})},d=function(e){var t=e.pets,c=(e.forceUpdate,e.setPage);return Object(n.useEffect)((function(){c("home")}),[]),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)("h3",{children:"These pets are looking for a good home"}),Object(j.jsx)(o,{pets:t})]})},u=(c(34),function(e){var t=e.page;return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{children:"Pet Shelter"}),t&&function(e){switch(e){case"home":return Object(j.jsx)(r.a,{to:"/pets/new",children:Object(j.jsx)("p",{children:"add a pet to the shelter"})});default:return Object(j.jsx)(r.a,{to:"/",children:Object(j.jsx)("p",{children:"back to home"})})}}(t)]})}),b=(c(35),c(5)),p=c.n(b),h=(c(54),function(e){var t=e.editing,c=void 0!==t&&t,s=e.pet,l=void 0===s?null:s,a=e.forceUpdate,o=e.setLatest,d=Object(n.useState)(null),u=Object(i.a)(d,2),b=u[0],h=u[1],O=l;return Object(j.jsxs)("div",{className:"main",children:[b?Object(j.jsx)("p",{className:"err",children:b}):null," ",Object(j.jsx)("br",{}),Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(e.target.type.value),!1===c?p.a.post("http://localhost:8000/api/pets/new",{name:e.target.name.value,type:e.target.type.value,desc:e.target.desc.value,skills:{skillOne:e.target.skill1.value,skillTwo:e.target.skill2.value,skillThree:e.target.skill3.value}}).then((function(e){console.log(e),a(e),Object(r.c)("/")})).catch((function(e){console.log(e),h(e.response.data.errors[Object.keys(e.response.data.errors)[0]].message)})):p.a.put("http://localhost:8000/api/pet/".concat(l._id,"/edit"),{name:e.target.name.value,type:e.target.type.value,desc:e.target.desc.value,skills:{skillOne:e.target.skill1.value,skillTwo:e.target.skill2.value,skillThree:e.target.skill3.value}}).then((function(e){a(e),o(e),Object(r.c)("/pet/".concat(l._id))})).catch((function(e){h(e.response.data.errors[Object.keys(e.response.data.errors)[0]].message)}))}(e)},children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("section",{className:"inputWrapper",children:[Object(j.jsx)("label",{htmlFor:"name",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",id:"name",defaultValue:c?O.name:null})," ",Object(j.jsx)("br",{})]}),Object(j.jsxs)("section",{className:"inputWrapper",children:[Object(j.jsx)("label",{htmlFor:"type",children:"Type"}),Object(j.jsx)("input",{type:"text",name:"type",id:"type",defaultValue:c?O.type:null})," ",Object(j.jsx)("br",{})]}),Object(j.jsxs)("section",{className:"inputWrapper",children:[Object(j.jsx)("label",{htmlFor:"desc",children:"Description"}),Object(j.jsx)("input",{type:"text",name:"desc",id:"desc",defaultValue:c?O.desc:null})," ",Object(j.jsx)("br",{})]})]}),Object(j.jsxs)("div",{className:"formRight",children:[Object(j.jsxs)("section",{className:"inputWrapper",children:[Object(j.jsx)("label",{htmlFor:"skill1",children:"Skill 1 (optional)"}),Object(j.jsx)("input",{type:"text",name:"skill1",id:"skill1",defaultValue:c?O.skills.skillOne:null})," ",Object(j.jsx)("br",{})]}),Object(j.jsxs)("section",{className:"inputWrapper",children:[Object(j.jsx)("label",{htmlFor:"skill2",children:"Skill 2 (optional)"}),Object(j.jsx)("input",{type:"text",name:"skill2",id:"skill2",defaultValue:c?O.skills.skillTwo:null})," ",Object(j.jsx)("br",{})]}),Object(j.jsxs)("section",{className:"inputWrapper",children:[Object(j.jsx)("label",{htmlFor:"skill3",children:"Skill 3 (optional)"}),Object(j.jsx)("input",{type:"text",name:"skill3",id:"skill3",defaultValue:c?O.skills.skillThree:null})," ",Object(j.jsx)("br",{})]})]}),Object(j.jsxs)("div",{className:"submitWrapper",children:[Object(j.jsx)("input",{type:"submit",value:"Submit"})," ",c?Object(j.jsx)("button",{onClick:function(e){return Object(r.c)("/pet/".concat(l._id))},children:"Cancel"}):null]})]})]})}),O=function(e){var t=e.forceUpdate;return(0,e.setPage)("create"),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)("h3",{children:"Know a pet needing a home?"}),Object(j.jsx)(h,{forceUpdate:t})]})},x=(c(55),function(e){var t=e.id,c=e.setPage,s=e.forceUpdate,l=Object(n.useState)(null),a=Object(i.a)(l,2),o=a[0],d=a[1],u=Object(n.useState)([]),b=Object(i.a)(u,2),h=b[0],O=b[1],x=Object(n.useState)(!1),f=Object(i.a)(x,2),m=f[0],k=f[1],g=Object(n.useState)(null),v=Object(i.a)(g,2),y=v[0],N=v[1];Object(n.useEffect)((function(){p.a.get("http://localhost:8000/api/pet/".concat(t)).then((function(e){var t=[];d(e.data.pet),Object.keys(e.data.pet.skills).map((function(c){return t.push(e.data.pet.skills[c]),null})),O(t),c("display")})).catch((function(e){return console.log("Error: ",e)}))}),[y]);var S=function(e,t){"delete"===t?p.a.delete("http://localhost:8000/api/pet/".concat(o._id,"/delete")).then((function(e){console.log(e.data.deleted),s(e),Object(r.c)("/")})).catch((function(e){return console.log(e)})):p.a.put("http://localhost:8000/api/pet/".concat(o._id,"/edit"),{likes:o.likes+1}).then((function(e){k(!0),N(e)})).catch((function(e){return console.log(e)}))};return null!==o?Object(j.jsxs)("div",{id:"petDetails",children:[Object(j.jsxs)("section",{children:[Object(j.jsxs)("h3",{children:["Details about ",o.name]}),Object(j.jsxs)("button",{className:"grn",id:"adopt",onClick:function(e){return S(0,"delete")},children:["Adopt ",o.name]})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"title",children:"Pet Type:"})," ",o.type]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"title",children:"Description:"}),o.desc]}),Object(j.jsx)("p",{id:"skills",children:Object(j.jsx)("span",{className:"title",children:"Skills: "})}),Object(j.jsx)("ul",{children:h.map((function(e){return Object(j.jsx)("li",{children:e})}))})," ",Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(e){return Object(r.c)("/pet/".concat(o._id,"/edit"))},children:"Edit"}),Object(j.jsx)("button",{className:"grn",id:"like",disabled:!!m,onClick:function(e){return S(0,"like")},children:"Like"})," ",Object(j.jsxs)("p",{id:"likes",children:[o.likes," like(s)"]})," ",Object(j.jsx)("br",{})]}):Object(j.jsx)("p",{children:"The void"})}),f=(c(56),function(e){var t=e.id,c=e.forceUpdate,s=e.setPage,l=Object(n.useState)(null),a=Object(i.a)(l,2),r=a[0],o=a[1],d=Object(n.useState)(null),u=Object(i.a)(d,2),b=u[0],O=u[1];return Object(n.useEffect)((function(){p.a.get("http://localhost:8000/api/pet/".concat(t)).then((function(e){o(e.data.pet),s("edit")})).catch((function(e){return console.log("Error: ",e)}))}),[b]),null!==r?Object(j.jsxs)("div",{id:"petEdit",children:[Object(j.jsxs)("h3",{children:["Edit ",r.name]}),Object(j.jsx)(h,{editing:!0,pet:r,forceUpdate:c,setLatest:O})]}):Object(j.jsx)("p",{children:"The void"})});var m=function(){var e=Object(n.useState)("home"),t=Object(i.a)(e,2),c=t[0],s=t[1],l=Object(n.useState)(null),a=Object(i.a)(l,2),o=a[0],b=a[1],h=Object(n.useState)(null),m=Object(i.a)(h,2),k=m[0],g=m[1],v=Object(n.useState)(!0),y=Object(i.a)(v,2),N=y[0],S=y[1];return Object(n.useEffect)((function(){var e;return S(!0),p.a.get("http://localhost:8000/api/pets",{cancelToken:new p.a.CancelToken((function(t){e=t}))}).then((function(e){S(!1),console.log(e.data.pets),b(e.data.pets)})).catch((function(e){return console.log(e)})),function(){return e()}}),[k]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(u,{page:c}),N?Object(j.jsx)("p",{children:"Loading.."}):null,Object(j.jsxs)(r.b,{children:[o&&Object(j.jsx)(d,{path:"/",pets:o,setPage:s}),Object(j.jsx)(O,{path:"/pets/new/",forceUpdate:g,setPage:s}),Object(j.jsx)(x,{path:"/pet/:id",forceUpdate:g,setPage:s}),Object(j.jsx)(f,{path:"/pet/:id/edit",forceUpdate:g,setPage:s})]})]})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,58)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,l=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),l(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),k()}},[[57,1,2]]]);
//# sourceMappingURL=main.77dbbc90.chunk.js.map